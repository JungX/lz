<form ng-submit="submit()" ng-controller="BannerCtrl">
	<div class="content">
		<md-card class="content-card">
			<div class="md-toolbar-tools">
				<span flex="20"><h2>
					<small>{{data.create ? '创建' : '查看'}}Banner</small>
				</h2></span>
				<span flex="" class="flex"></span>
				<md-button class="md-raised md-primary" ng-show="!data.create"
				           ngf-select="uploadImage()"
				           ng-model="photos[0]" name="photo" ngf-pattern="'image/*'" ngf-accept="'image/*'">添加图片
				</md-button>
				<md-button type="submit" class="md-raised md-primary">保存</md-button>
				<md-button ng-click="exit()" class="md-raised">退出</md-button>
			</div>
			<md-content class="md-padding" layout="row">
				<div flex layout="column">
					<div flex layout="row">
						<md-input-container flex>
							<label>标题</label>
							<input ng-model="data.title" required md-maxlength="50">
						</md-input-container>
						<md-input-container flex>
							<label>序号</label>
							<input ng-model="data.num" type="number" required>
						</md-input-container>
						<md-input-container flex>
							<label>类型</label>
							<md-select ng-model="data.type">
								<md-option ng-repeat="type in types" ng-value="type.id">{{type.text}}</md-option>
							</md-select>
						</md-input-container>
					</div>
					<div flex layout="column" ng-if="data.type !== 'link'">
						<div flex>
							<md-button ng-click="select()" class="md-raised">选择{{typeText}}</md-button>
						</div>
						<div flex layout="row">
							<md-input-container flex>
								<label>{{typeText}}</label>
								<input ng-value="targetText" readonly>
							</md-input-container>
						</div>
					</div>
					<div flex layout="row" ng-if="data.type === 'link'">
						<md-input-container flex>
							<label>链接地址</label>
							<input ng-model="data.link" >
						</md-input-container>
					</div>
				</div>
				<div flex="20" layout="row">
					<div flex layout="column">
						<md-card ng-if="!!data.image">
							<image-viewer image-id="{{data.image}}" class="md-card-image"></image-viewer>
							<md-card-actions layout="row" layout-align="end center">
								<md-button class="md-icon-button" ng-click="removeImage()">
									<md-icon class="material-icons">delete</md-icon>
								</md-button>
							</md-card-actions>
						</md-card>
					</div>
				</div>
			</md-content>
		</md-card>
	</div>
</form>
