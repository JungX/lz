<div class="content" ng-controller="ProductCtrl">
	<md-card class="content-card">
		<div class="md-toolbar-tools">
				<span flex="20"><h2>
					<small>{{data.create ? '创建' : '查看'}}商品页面</small>
				</h2></span>
			<span flex="" class="flex"></span>
			<md-button ng-click="onsale(data.id)" class="md-raised md-primary" ng-if="data.status ==='unsale'">上架</md-button>
			<md-button ng-click="unsale(data.id)" class="md-raised md-primary" ng-if="data.status === 'onsale'">下架</md-button>
			<md-button class="md-raised md-primary" ng-show="!data.create"
			           ngf-select="setCoverImage()"
			           ng-model="photos[0]" name="photo" ngf-pattern="'image/*'" ngf-accept="'image/*'">
				设置封面图片
			</md-button>
			<md-button ng-click="submit()" class="md-raised md-primary">保存</md-button>
			<md-button ng-click="exit()" class="md-raised">退出</md-button>
		</div>
		<md-content class="md-padding" layout="column">
			<div flex layout="row">
				<md-input-container flex>
					<label>商品名称</label>
					<input ng-model="data.name" required md-maxlength="50">
				</md-input-container>
			</div>
			<div flex layout="row">
				<md-input-container flex>
					<label>商品描述</label>
					<input ng-model="data.desc" required md-maxlength="50">
				</md-input-container>
			</div>
			<div flex layout="row">
				<md-input-container flex>
					<label>商品价格</label>
					<input ng-model="data.price" required md-maxlength="50">
				</md-input-container>
			</div>
			<div flex layout="row">
				<div flex="20" layout="row" ng-if="!!data.coverImage">
					<md-card>
						<image-viewer image-id="{{data.coverImage}}" class="md-card-image"></image-viewer>
					</md-card>
				</div>
			</div>
			<div flex="80" ng-show="!data.create">
				<div id="editor" style="height: 460px; width: 100%"></div>
			</div>
		</md-content>
	</md-card>
</div>
